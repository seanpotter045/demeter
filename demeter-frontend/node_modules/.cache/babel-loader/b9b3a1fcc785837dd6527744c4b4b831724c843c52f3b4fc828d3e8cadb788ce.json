{"ast":null,"code":"var _jsxFileName = \"/Users/seanbolles/demeter/demeter-frontend/src/components/CreateLocationPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreateLocationPage() {\n  _s();\n  const [locationName, setLocationName] = useState('');\n  const [locationType, setLocationType] = useState('');\n  const [address, setAddress] = useState('');\n  const [user, setUser] = useState(null); // To store the logged-in user's information\n  const navigate = useNavigate();\n\n  // Fetch the user data from localStorage when the component mounts\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      try {\n        setUser(JSON.parse(storedUser)); // Set the user state from localStorage\n      } catch (error) {\n        console.error('Error parsing user data from localStorage', error);\n        setUser(null); // If error occurs, reset the user state\n      }\n    } else {\n      setUser(null); // No user data in localStorage\n    }\n  }, []);\n\n  // Handle the form submission\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Check if user is logged in\n    if (!user) {\n      alert('You must be logged in to create a location!');\n      return;\n    }\n\n    // Prepare the data to be sent to the backend\n    const newLocation = {\n      locationName,\n      username: user.username,\n      // Automatically set the logged-in user's username\n      locationType,\n      address\n    };\n    try {\n      // Send a POST request to the backend to create the location\n      const response = await axios.post('http://localhost:5000/api/locations/createLocation', newLocation);\n      console.log('Location created:', response.data);\n      alert('Location created successfully!');\n      navigate('/locations'); // Redirect to a locations page or another appropriate page\n    } catch (error) {\n      console.error('Error creating location:', error);\n      alert('Failed to create location. Please try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-4xl font-bold mb-6\",\n      children: \"Create a New Location\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"w-full max-w-sm bg-white p-8 rounded-lg shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"locationName\",\n          className: \"block text-lg\",\n          children: \"Location Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"locationName\",\n          value: locationName,\n          onChange: e => setLocationName(e.target.value),\n          className: \"w-full p-2 border rounded-lg\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"locationType\",\n          className: \"block text-lg\",\n          children: \"Location Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"locationType\",\n          value: locationType,\n          onChange: e => setLocationType(e.target.value),\n          className: \"w-full p-2 border rounded-lg\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"address\",\n          className: \"block text-lg\",\n          children: \"Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"address\",\n          value: address,\n          onChange: e => setAddress(e.target.value),\n          className: \"w-full p-2 border rounded-lg\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition\",\n        children: \"Create Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), !user && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-4 text-red-500\",\n      children: \"You must be logged in to create a location!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(CreateLocationPage, \"AT3qlSQzaNIJwoj62jFTOxmo37o=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateLocationPage;\nvar _c;\n$RefreshReg$(_c, \"CreateLocationPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsxDEV","_jsxDEV","CreateLocationPage","_s","locationName","setLocationName","locationType","setLocationType","address","setAddress","user","setUser","navigate","storedUser","localStorage","getItem","JSON","parse","error","console","handleSubmit","e","preventDefault","alert","newLocation","username","response","post","log","data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","value","onChange","target","required","_c","$RefreshReg$"],"sources":["/Users/seanbolles/demeter/demeter-frontend/src/components/CreateLocationPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function CreateLocationPage() {\n  const [locationName, setLocationName] = useState('');\n  const [locationType, setLocationType] = useState('');\n  const [address, setAddress] = useState('');\n  const [user, setUser] = useState(null);  // To store the logged-in user's information\n  const navigate = useNavigate();\n\n  // Fetch the user data from localStorage when the component mounts\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      try {\n        setUser(JSON.parse(storedUser)); // Set the user state from localStorage\n      } catch (error) {\n        console.error('Error parsing user data from localStorage', error);\n        setUser(null); // If error occurs, reset the user state\n      }\n    } else {\n      setUser(null); // No user data in localStorage\n    }\n  }, []);\n\n  // Handle the form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    // Check if user is logged in\n    if (!user) {\n      alert('You must be logged in to create a location!');\n      return;\n    }\n\n    // Prepare the data to be sent to the backend\n    const newLocation = {\n      locationName,\n      username: user.username,  // Automatically set the logged-in user's username\n      locationType,\n      address,\n    };\n\n    try {\n      // Send a POST request to the backend to create the location\n      const response = await axios.post('http://localhost:5000/api/locations/createLocation', newLocation);\n      console.log('Location created:', response.data);\n      alert('Location created successfully!');\n      navigate('/locations');  // Redirect to a locations page or another appropriate page\n    } catch (error) {\n      console.error('Error creating location:', error);\n      alert('Failed to create location. Please try again.');\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white\">\n      <h1 className=\"text-4xl font-bold mb-6\">Create a New Location</h1>\n\n      {/* Location creation form */}\n      <form onSubmit={handleSubmit} className=\"w-full max-w-sm bg-white p-8 rounded-lg shadow-md\">\n        <div className=\"mb-4\">\n          <label htmlFor=\"locationName\" className=\"block text-lg\">Location Name</label>\n          <input\n            type=\"text\"\n            id=\"locationName\"\n            value={locationName}\n            onChange={(e) => setLocationName(e.target.value)}\n            className=\"w-full p-2 border rounded-lg\"\n            required\n          />\n        </div>\n\n        <div className=\"mb-4\">\n          <label htmlFor=\"locationType\" className=\"block text-lg\">Location Type</label>\n          <input\n            type=\"text\"\n            id=\"locationType\"\n            value={locationType}\n            onChange={(e) => setLocationType(e.target.value)}\n            className=\"w-full p-2 border rounded-lg\"\n            required\n          />\n        </div>\n\n        <div className=\"mb-4\">\n          <label htmlFor=\"address\" className=\"block text-lg\">Address</label>\n          <input\n            type=\"text\"\n            id=\"address\"\n            value={address}\n            onChange={(e) => setAddress(e.target.value)}\n            className=\"w-full p-2 border rounded-lg\"\n            required\n          />\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"w-full px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition\"\n        >\n          Create Location\n        </button>\n      </form>\n\n      {/* Display a message if no user is logged in */}\n      {!user && <p className=\"mt-4 text-red-500\">You must be logged in to create a location!</p>}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}